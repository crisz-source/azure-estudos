// definindo a criação da pipeline
pipeline { 

    // Agente de execução, onde vai ser executada essa pipeline, seja no Linux, Windows, Mac etc... aqui vou usar qualquer agent
    agent any

    // estágios de execução da pipeline
    stages {
        stage('Build docker image') { 
            // os passos de execução, como se fossem os jobs do GitHub Actions
            steps {
                sh 'echo "Executando o comando docker build"'
            }
        }

        stage('Push docker image') { 
            // os passos de execução, como se fossem os jobs do GitHub Actions
            steps {
                sh 'echo "Executando o comando docker push"'
            }
        }

        stage('Deploy no kubernetes') { 
            // os passos de execução, como se fossem os jobs do GitHub Actions
            steps {
                sh 'echo "Executando o comando kubectl apply"'
            }
        }
    }
}
